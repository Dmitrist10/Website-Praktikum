{% extends 'core/coreBase.html' %}

{% block core_content %}
<section class="section">
    <div class="container">
        <h1 class="text-center mb-lg">Latest News</h1>
        <div class="grid grid-3">
            <!-- News Item 1 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('DarkSecret Studios Launches', 'Nov 26, 2025', 
                 'We are proud to announce the launch of VoxelEngine v 0.3.2 our best and most stable version yet. ja was noch?')">
                <div class="news-image-placeholder mb-md">ðŸš€</div>
                <h3>VoxelEngine 0.3.2</h3>
                <p class="text-muted text-sm mb-sm">Nov 26, 2025</p>
                <p>We are proud to announce the launch of VoxelEngine v 0.3.2 ... </p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>

            <!-- News Item 2 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('VoxelEngine 1.0 Released', 'Nov 20, 2025', 'æœ¬éƒ¨åˆ†ç›®å‰æ²¡æœ‰ä»»ä½•å†…å®¹æˆ–æ–‡æœ¬')">
                <div class="news-image-placeholder mb-md">ðŸ“¦</div>
                <h3>VoxelGames has got multiplayer support!</h3>
                <p class="text-muted text-sm mb-sm">Nov 20, 2025</p>
                <p>ABCDEFGHIDJ...PQRSTUVWXYZ</p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>

            <!-- News Item 3 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('Community Spotlight', 'Nov 15, 2025', 'The Backrooms is a 3D horror game made for VoxelGames by æ¸¸æˆ101.')">
                <div class="news-image-placeholder mb-md">ðŸŒŸ</div>
                <h3>Best Game of 2025</h3>
                <p class="text-muted text-sm mb-sm">Nov 15, 2025</p>
                <p>"The Backrooms" is a 3D Voxel RP game ... ich bin zu faul um weiter zu schreiben</p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>
        </div>
    </div>
</section>

<!-- News Modal -->
<div id="newsModal" class="modal-overlay" onclick="closeNewsModal(event)">
    <div class="modal-content card" onclick="event.stopPropagation()">
        <button class="close-btn" onclick="closeNewsModal()">&times;</button>
        <h2 id="modalTitle" class="mb-sm">Title</h2>
        <p id="modalDate" class="text-muted text-sm mb-md">Date</p>
        <div id="modalBody" class="modal-body">
            Content...
        </div>
    </div>
</div>

<script>
    function openNewsModal(title, date, content) {
        document.getElementById('modalTitle').innerText = title;
        document.getElementById('modalDate').innerText = date;
        document.getElementById('modalBody').innerHTML = content;
        document.getElementById('newsModal').classList.add('active');
        document.body.style.overflow = 'hidden'; // Prevent scrolling
    }

    function closeNewsModal(event) {
        document.getElementById('newsModal').classList.remove('active');
        document.body.style.overflow = ''; // Restore scrolling
    }

    // Close on Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === "Escape") {
            closeNewsModal();
        }
    });
</script>

<style>
    .cursor-pointer { cursor: pointer; }
    .news-image-placeholder { 
        background: var(--color-bg-alt); 
        height: 150px; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 3rem; 
        border-radius: var(--radius-md);
    }
    
    /* Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .modal-content {
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        transform: translateY(20px);
        transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal-content {
        transform: translateY(0);
    }

    .close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        font-size: 2rem;
        color: var(--color-text-muted);
        cursor: pointer;
        line-height: 1;
    }

    .close-btn:hover {
        color: var(--color-text);
    }
</style>
{% endblock %}
