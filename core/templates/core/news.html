{% extends 'core/coreBase.html' %}

{% block core_content %}
<section class="section">
    <div class="container">
        <h1 class="text-center mb-lg">Latest News</h1>
        <div class="grid grid-3">
            <!-- News Item 1 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('DarkSecret Studios Launches', 'Nov 26, 2025', 'We are proud to announce the launch of our new platform. After years of development, we are finally ready to show the world what we have been working on. <br><br> Our mission is to provide the best tools for developers and the most immersive experiences for players.')">
                <div class="news-image-placeholder mb-md">ðŸš€</div>
                <h3>DarkSecret Studios Launches</h3>
                <p class="text-muted text-sm mb-sm">Nov 26, 2025</p>
                <p>We are proud to announce the launch of our new platform...</p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>

            <!-- News Item 2 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('VoxelEngine 1.0 Released', 'Nov 20, 2025', 'The future of volumetric rendering is here. VoxelEngine 1.0 brings massive performance improvements, new lighting systems, and a completely rewritten physics engine. <br><br> Download it today from the launcher.')">
                <div class="news-image-placeholder mb-md">ðŸ“¦</div>
                <h3>VoxelEngine 1.0 Released</h3>
                <p class="text-muted text-sm mb-sm">Nov 20, 2025</p>
                <p>The future of volumetric rendering is here.</p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>

            <!-- News Item 3 -->
            <div class="card news-card hover-lift cursor-pointer" 
                 onclick="openNewsModal('Community Spotlight', 'Nov 15, 2025', 'Check out what our community has been building. From massive cities to intricate redstone-like logic gates, our players never cease to amaze us. <br><br> This week we are featuring a replica of the entire solar system built to scale.')">
                <div class="news-image-placeholder mb-md">ðŸŒŸ</div>
                <h3>Community Spotlight</h3>
                <p class="text-muted text-sm mb-sm">Nov 15, 2025</p>
                <p>Check out what our community has been building.</p>
                <span class="text-primary text-sm font-bold mt-auto block">Read More</span>
            </div>
        </div>
    </div>
</section>

<!-- News Modal -->
<div id="newsModal" class="modal-overlay" onclick="closeNewsModal(event)">
    <div class="modal-content card" onclick="event.stopPropagation()">
        <button class="close-btn" onclick="closeNewsModal()">&times;</button>
        <h2 id="modalTitle" class="mb-sm">Title</h2>
        <p id="modalDate" class="text-muted text-sm mb-md">Date</p>
        <div id="modalBody" class="modal-body">
            Content...
        </div>
    </div>
</div>

<script>
    function openNewsModal(title, date, content) {
        document.getElementById('modalTitle').innerText = title;
        document.getElementById('modalDate').innerText = date;
        document.getElementById('modalBody').innerHTML = content;
        document.getElementById('newsModal').classList.add('active');
        document.body.style.overflow = 'hidden'; // Prevent scrolling
    }

    function closeNewsModal(event) {
        document.getElementById('newsModal').classList.remove('active');
        document.body.style.overflow = ''; // Restore scrolling
    }

    // Close on Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === "Escape") {
            closeNewsModal();
        }
    });
</script>

<style>
    .cursor-pointer { cursor: pointer; }
    .news-image-placeholder { 
        background: var(--color-bg-alt); 
        height: 150px; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 3rem; 
        border-radius: var(--radius-md);
    }
    
    /* Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .modal-content {
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        transform: translateY(20px);
        transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal-content {
        transform: translateY(0);
    }

    .close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        font-size: 2rem;
        color: var(--color-text-muted);
        cursor: pointer;
        line-height: 1;
    }

    .close-btn:hover {
        color: var(--color-text);
    }
</style>
{% endblock %}
